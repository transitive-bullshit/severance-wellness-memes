import 'dotenv/config'

import { gracefulExit } from 'exit-hook'
import pMap from 'p-map'
import restoreCursor from 'restore-cursor'

import * as config from '@/lib/config'
import { prisma } from '@/lib/db'

const tu = [
  { twitterUsername: 'Username', category: 'Category' },
  { twitterUsername: 'elonmusk', category: 'g' },
  { twitterUsername: 'jack', category: 'g' },
  { twitterUsername: 'mattpocockuk', category: 'g' },
  { twitterUsername: 'tdinh_me', category: 'f' },
  { twitterUsername: 'swyx', category: 'f' },
  { twitterUsername: 'kentcdodds', category: 'g' },
  { twitterUsername: 'rauchg', category: 'f' },
  { twitterUsername: 'xanderatallah', category: 'f' },
  { twitterUsername: 'davefontenot', category: 'f' },
  { twitterUsername: 'Teknium1', category: 'f' },
  { twitterUsername: 'StartupArchive_', category: 'g' },
  { twitterUsername: 'aidenybai', category: 'g' },
  { twitterUsername: 'minimaxir', category: 'g' },
  { twitterUsername: 'NickADobos', category: 'g' },
  { twitterUsername: 'iScienceLuvr', category: 'g' },
  { twitterUsername: 'sama', category: 'g' },
  { twitterUsername: 'rez0__', category: 'g' },
  { twitterUsername: 'kalomaze', category: 'g' },
  { twitterUsername: 'abacaj', category: 'f' },
  { twitterUsername: '0xSamHogan', category: 'f' },
  { twitterUsername: 'threepointone', category: 'f' },
  { twitterUsername: 'alexalbert__', category: 'f' },
  { twitterUsername: 'karpathy', category: 'g' },
  { twitterUsername: 'ggerganov', category: 'g' },
  { twitterUsername: 'dzhng', category: 'f' },
  { twitterUsername: 'petergyang', category: 'f' },
  { twitterUsername: 'altryne', category: 'f' },
  { twitterUsername: 'edgarasben', category: 'g' },
  { twitterUsername: 'simonfarshid', category: 'g' },
  { twitterUsername: 'buccocapital', category: 'g' },
  { twitterUsername: 'Jason', category: 'g' },
  { twitterUsername: 'lexfridman', category: 'g' },
  { twitterUsername: 'mkobach', category: 'g' },
  { twitterUsername: 'gdb', category: 'g' },
  { twitterUsername: '3blue1brown', category: 'g' },
  { twitterUsername: 'barackobama', category: 'g' },
  { twitterUsername: 'realdonaldtrump', category: 'g' },
  { twitterUsername: 'taylorswift13', category: 'g' },
  { twitterUsername: 'Shpigford', category: 'g' },
  { twitterUsername: 'schickling', category: 'f' },
  { twitterUsername: 'JamesIvings', category: 'f' },
  { twitterUsername: 'nearcyan', category: 'g' },
  { twitterUsername: '0xSigil', category: 'f' },
  { twitterUsername: 'pmarca', category: 'g' },
  { twitterUsername: 'scottsilvi', category: 'f' },
  { twitterUsername: 'tszzl', category: 'f' },
  { twitterUsername: 'maccaw', category: 'f' },
  { twitterUsername: 'hrishioa', category: 'f' },
  { twitterUsername: 'yiqiw_', category: 'f' },
  { twitterUsername: 'waitbutwhy', category: 'g' },
  { twitterUsername: 'eshear', category: 'g' },
  { twitterUsername: 'drorpoleg', category: 'g' },
  { twitterUsername: 'thekitze', category: 'g' },
  { twitterUsername: 'SmokeAwayyy', category: 'g' },
  { twitterUsername: 'HPABeats', category: 'g' },
  { twitterUsername: 'shl', category: 'g' },
  { twitterUsername: 'greg16676935420', category: 'g' },
  { twitterUsername: 'mreflow', category: 'g' },
  { twitterUsername: 'agishaun', category: 'g' },
  { twitterUsername: 'HowardBGil', category: 'f' },
  { twitterUsername: 'growing_daniel', category: 'g' },
  { twitterUsername: 'TheJackForge', category: 'g' },
  { twitterUsername: 'yacineMTB', category: 'g' },
  { twitterUsername: 'TrungTPhan', category: 'g' },
  { twitterUsername: 'AravSrinivas', category: 'g' },
  { twitterUsername: 'itsurboyevan', category: 'f' },
  { twitterUsername: 'BoredElonMusk', category: 'g' },
  { twitterUsername: 'DrJimFan', category: 'g' },
  { twitterUsername: 'Beyonce', category: 'g' },
  { twitterUsername: 'stevekrouse', category: 'f' },
  { twitterUsername: 'TheCodeTherapy', category: 'g' },
  { twitterUsername: 'arvidkahl', category: 'f' },
  { twitterUsername: 'wongmjane', category: 'g' },
  { twitterUsername: 'rihanna', category: 'g' },
  { twitterUsername: 'TheRealAdamG', category: 'g' },
  { twitterUsername: 'Cristiano', category: 'g' },
  { twitterUsername: 'KimKardashian', category: 'g' },
  { twitterUsername: 'nickfloats', category: 'g' },
  { twitterUsername: 'BillGates', category: 'g' },
  { twitterUsername: 'KingJames', category: 'g' },
  { twitterUsername: 'ShaanVP', category: 'g' },
  { twitterUsername: 'bentossell', category: 'f' },
  { twitterUsername: 'TurnerNovak', category: 'f' },
  { twitterUsername: 'jsngr', category: 'g' },
  { twitterUsername: 'sariazout', category: 'g' },
  { twitterUsername: 'Altimor', category: 'g' },
  { twitterUsername: 'charlierward', category: 'g' },
  { twitterUsername: 'packyM', category: 'g' },
  { twitterUsername: 'DataChaz', category: 'g' },
  { twitterUsername: 'crabfisher', category: 'f' },
  { twitterUsername: 'Steve8708', category: 'g' },
  { twitterUsername: 'gregisenberg', category: 'g' },
  { twitterUsername: 'ryanorban', category: 'f' },
  { twitterUsername: 'zachlendon', category: 'f' },
  { twitterUsername: 'awilkinson', category: 'g' },
  { twitterUsername: 'localhost_5173', category: 'f' },
  { twitterUsername: 'signulll', category: 'g' },
  { twitterUsername: 'thesephist', category: 'f' },
  { twitterUsername: 'GregKamradt', category: 'f' },
  { twitterUsername: 'dwarkesh_sp', category: 'g' },
  { twitterUsername: 'habazzi', category: 'f' },
  { twitterUsername: 'jrysana', category: 'f' },
  { twitterUsername: 'caseykcaruso', category: 'f' },
  { twitterUsername: 'OfficialLoganK', category: 'g' },
  { twitterUsername: 'simonw', category: 'g' },
  { twitterUsername: 'lilianweng', category: 'g' },
  { twitterUsername: 'naval', category: 'g' },
  { twitterUsername: 'joerogan', category: 'g' },
  { twitterUsername: 'rileytomasek', category: 'f' },
  { twitterUsername: 'johnsoncodehk', category: 'g' },
  { twitterUsername: 'cnaut', category: 'f' },
  { twitterUsername: 'JiaruCai1', category: 'f' },
  { twitterUsername: 'MaximeHeckel', category: 'g' },
  { twitterUsername: 'joshpxyne', category: 'f' },
  { twitterUsername: 'pk_iv', category: 'f' },
  { twitterUsername: 'ctjlewis', category: 'g' },
  { twitterUsername: 'fchollet', category: 'g' },
  { twitterUsername: 'Zephraph', category: 'f' },
  { twitterUsername: 'RayFernando1337', category: 'f' },
  { twitterUsername: 'braelyn_ai', category: 'f' },
  { twitterUsername: 'levelsio', category: 'g' },
  { twitterUsername: 'morgantepell', category: 'f' },
  { twitterUsername: 'mathemagic1an', category: 'g' },
  { twitterUsername: 'nicoalbanese10', category: 'f' },
  { twitterUsername: 'escliu', category: 'f' },
  { twitterUsername: 'adamwathan', category: 'g' },
  { twitterUsername: 'tim_nolet', category: 'g' },
  { twitterUsername: 'colinhacks', category: 'g' },
  { twitterUsername: 'paulg', category: 'g' },
  { twitterUsername: 'housecor', category: 'g' },
  { twitterUsername: 'emollick', category: 'g' },
  { twitterUsername: 'Kerollmops', category: 'g' },
  { twitterUsername: 'menemazarakis', category: 'g' },
  { twitterUsername: 'yikesawjeez', category: 'g' },
  { twitterUsername: 'louis030195', category: 'f' },
  { twitterUsername: 'hackgoofer', category: 'f' },
  { twitterUsername: 'hwchase17', category: 'f' },
  { twitterUsername: 'rrhoover', category: 'g' },
  { twitterUsername: 'SullyOmarr', category: 'g' },
  { twitterUsername: 'RLanceMartin', category: 'f' },
  { twitterUsername: 'janwilmake', category: 'g' },
  { twitterUsername: 'atupem', category: 'g' },
  { twitterUsername: 'MichelIvan92347', category: 'g' },
  { twitterUsername: 'AtomSilverman', category: 'f' },
  { twitterUsername: 'HugoAmsellem', category: 'g' },
  { twitterUsername: 'lgrammel', category: 'f' },
  { twitterUsername: 'jxmnop', category: 'g' },
  { twitterUsername: 'Kikobeats', category: 'f' },
  { twitterUsername: 'steventey', category: 'f' },
  { twitterUsername: 'jeffrschneider', category: 'f' },
  { twitterUsername: 'nutlope', category: 'f' },
  { twitterUsername: 'wangzjeff', category: 'f' },
  { twitterUsername: 'lancehasson', category: 'f' },
  { twitterUsername: 'yoheinakajima', category: 'g' },
  { twitterUsername: 'FanaHOVA', category: 'f' },
  { twitterUsername: 'AlexReibman', category: 'f' },
  { twitterUsername: 'ljin18', category: 'f' },
  { twitterUsername: 'zackhargett', category: 'f' },
  { twitterUsername: 'HamelHusain', category: 'g' },
  { twitterUsername: 'JeffDean', category: 'g' },
  { twitterUsername: 'antifusor', category: 'g' },
  { twitterUsername: 'stateof_kate', category: 'g' },
  { twitterUsername: 'gryhkn', category: 'g' },
  { twitterUsername: 'leerob', category: 'f' },
  { twitterUsername: 'WilliamBryk', category: 'f' },
  { twitterUsername: 'phuctm97', category: 'f' },
  { twitterUsername: 'tod', category: 'g' },
  { twitterUsername: 'chadfowler', category: 'g' },
  { twitterUsername: 'tereza_tizkova', category: 'g' },
  { twitterUsername: 'keithwhor', category: 'g' },
  { twitterUsername: 'YousefED', category: 'g' },
  { twitterUsername: 'nullvoxpopuli', category: 'g' },
  { twitterUsername: 'trueadm', category: 'g' },
  { twitterUsername: 'EisenbergEffect', category: 'g' },
  { twitterUsername: 'diamondbishop', category: 'f' },
  { twitterUsername: '0xTyllen', category: 'g' },
  { twitterUsername: '8teAPi', category: 'f' },
  { twitterUsername: 'netcapgirl', category: 'g' },
  { twitterUsername: 'tekacs', category: 'g' },
  { twitterUsername: 'jeffreyhuber', category: 'f' },
  { twitterUsername: 'colinfortuner', category: 'f' },
  { twitterUsername: 'sdand', category: 'g' },
  { twitterUsername: 'badphilosopher', category: 'g' },
  { twitterUsername: 'thewallandthem', category: 'g' },
  { twitterUsername: 'evanjconrad', category: 'g' },
  { twitterUsername: 'jessemhan', category: 'g' },
  { twitterUsername: 'JosephJacks_', category: 'g' },
  { twitterUsername: 'AndrewVoirol', category: 'g' },
  { twitterUsername: 'JunaidDawud', category: 'g' },
  { twitterUsername: 'geoframeai', category: 'g' },
  { twitterUsername: '0x4007', category: 'g' },
  { twitterUsername: 'AndresDouglas', category: 'f' },
  { twitterUsername: 'Kveykva', category: 'g' },
  { twitterUsername: 'iopeak', category: 'f' },
  { twitterUsername: 'RattrayAlex', category: 'f' },
  { twitterUsername: 'Michaelgr1011', category: 'g' },
  { twitterUsername: 'BorisMPower', category: 'f' },
  { twitterUsername: 'hellokillian', category: 'g' },
  { twitterUsername: 'aishashok14', category: 'g' },
  { twitterUsername: 'pbteja1998', category: 'f' },
  { twitterUsername: 'apples_jimmy', category: 'g' },
  { twitterUsername: 'PhillipHaeusler', category: 'g' },
  { twitterUsername: 'MattPRD', category: 'g' },
  { twitterUsername: 'mckaywrigley', category: 'f' },
  { twitterUsername: 'sgrove', category: 'f' },
  { twitterUsername: 'benhylak', category: 'g' },
  { twitterUsername: 'dcarmitage', category: 'g' },
  { twitterUsername: 'jaredpalmer', category: 'g' },
  { twitterUsername: 'Benghamine', category: 'g' },
  { twitterUsername: 'YirenLu', category: 'f' },
  { twitterUsername: 'AqeelMeetsWorld', category: 'f' },
  { twitterUsername: 'jsjoeio', category: 'g' },
  { twitterUsername: 'byjmitch', category: 'f' },
  { twitterUsername: 'bentossell', category: 'f' },
  { twitterUsername: 'JonnyOctober', category: 'f' },
  { twitterUsername: 'iamgingertrash', category: 'g' },
  { twitterUsername: 'brett1211', category: 'g' },
  { twitterUsername: 'kazuki_sf_', category: 'f' },
  { twitterUsername: 'scikud', category: 'g' },
  { twitterUsername: 'zeke', category: 'f' },
  { twitterUsername: 'jowyang', category: 'g' },
  { twitterUsername: 'ShaanVP', category: 'g' },
  { twitterUsername: 'feross', category: 'f' },
  { twitterUsername: 'willpienaar', category: 'f' },
  { twitterUsername: 'mayowaoshin', category: 'f' },
  { twitterUsername: 'onmyway133', category: 'f' },
  { twitterUsername: 'peer_rich', category: 'g' },
  { twitterUsername: 'lcastricato', category: 'g' },
  { twitterUsername: 'denk_tweets', category: 'g' },
  { twitterUsername: 'm1guelpf', category: 'g' },
  { twitterUsername: 'Cephas_Nd', category: 'f' },
  { twitterUsername: 'david_perell', category: 'f' },
  { twitterUsername: 'jakobgreenfeld', category: 'f' },
  { twitterUsername: 'mfts0', category: 'f' },
  { twitterUsername: 'sab8a', category: 'f' },
  { twitterUsername: 'balajis', category: 'g' },
  { twitterUsername: 'NoCodeKenny', category: 'g' },
  { twitterUsername: 'damengchen', category: 'g' },
  { twitterUsername: 'DruRly', category: 'g' },
  { twitterUsername: 'RespectfulMemes', category: 's' },
  { twitterUsername: 'memesmelody', category: '' },
  { twitterUsername: 'someecards', category: 's' },
  { twitterUsername: 'MejoresTwits', category: 's' },
  { twitterUsername: 'SoloFutbolMemes', category: 's' },
  { twitterUsername: 'memedeportes', category: 's' },
  { twitterUsername: 'memefeos', category: 's' },
  { twitterUsername: 'malacarasev', category: 's' },
  { twitterUsername: '0xgaut', category: 's' },
  { twitterUsername: 'seyitaylor', category: 's' },
  { twitterUsername: 'Cokedupoptions', category: 's' },
  { twitterUsername: 'charliewrich', category: 's' },
  { twitterUsername: 'LinkedinFlex', category: 's' },
  { twitterUsername: 'BoringBiz_', category: 's' },
  { twitterUsername: 'CtrlAltDwayne', category: 's' },
  { twitterUsername: '9GAG', category: 's' },
  { twitterUsername: 'InternetH0F', category: 's' },
  { twitterUsername: 'HumansNoContext', category: 's' },
  { twitterUsername: 'towernter', category: 's' },
  { twitterUsername: 'hypefury', category: 's' },
  { twitterUsername: 'HOF_meme', category: 's' },
  { twitterUsername: 'memeland', category: 's' },
  { twitterUsername: 'WholesomeMeme', category: 's' },
  { twitterUsername: 'OhWonka', category: 's' },
  { twitterUsername: 'Lord_Voldemort7', category: 's' },
  { twitterUsername: 'whitememejesus', category: 's' },
  { twitterUsername: 'IntrovertProbss', category: 's' },
  { twitterUsername: 'memes', category: 's' },
  { twitterUsername: 'DavidSacks', category: 'g' },
  { twitterUsername: 'chamath', category: 'g' },
  { twitterUsername: 'just_animememes', category: 's' },
  { twitterUsername: 'AnimeMemeDaily', category: 's' },
  { twitterUsername: 'HouseOfWeebs', category: 's' },
  { twitterUsername: 'falsettostism', category: 's' },
  { twitterUsername: 'defneorsomethin', category: 's' },
  { twitterUsername: 'pr0zacz', category: 's' },
  { twitterUsername: 'SeveredUp', category: 's' },
  { twitterUsername: 'GuySmiley11', category: 's' },
  { twitterUsername: 'BenStiller', category: 's' },
  { twitterUsername: 'Mancheritto', category: 's' },
  { twitterUsername: 'springsteening', category: 's' },
  { twitterUsername: 'SeveredCucumber', category: 's' },
  { twitterUsername: 'MelosFaber', category: 's' },
  { twitterUsername: 'severance_tv', category: 's' },
  { twitterUsername: 'SeveranceOutof', category: 's' },
  { twitterUsername: 'doc_buttons', category: 's' },
  { twitterUsername: 'jaketapper', category: 's' },
  { twitterUsername: 'TooOftenOdd', category: 's' },
  { twitterUsername: 'CrazyChuck1215', category: 's' },
  { twitterUsername: 'Matthewceo', category: 's' },
  { twitterUsername: 'DanErixon', category: 's' },
  { twitterUsername: 'Al_Figgy', category: 's' },
  { twitterUsername: 'HayleyGoelzer', category: 's' },
  { twitterUsername: 'LumonIndustries', category: 's' },
  { twitterUsername: 'rajat_suresh', category: 's' },
  { twitterUsername: 'WaldosAkimbo', category: 's' },
  { twitterUsername: 'yogoldsmith', category: 's' },
  { twitterUsername: 'sza', category: 's' },
  { twitterUsername: 'IndieWire', category: 's' },
  { twitterUsername: 'illustraluis', category: 's' },
  { twitterUsername: 'TVTime', category: 's' },
  { twitterUsername: 'bIoach', category: 's' },
  { twitterUsername: 'tamoorh', category: 's' },
  { twitterUsername: 'megannn_lynne', category: 's' },
  { twitterUsername: 'EmmaB_Videos', category: 's' },
  { twitterUsername: 'himejoshimao', category: 's' },
  { twitterUsername: 'wholemindcoll', category: 's' },
  { twitterUsername: 'mradamscott', category: 's' },
  { twitterUsername: 'kanyewest', category: 's' },
  { twitterUsername: 'marcmaron', category: 's' },
  { twitterUsername: 'Nick_Offerman', category: 's' },
  { twitterUsername: 'prattprattpratt', category: 's' },
  { twitterUsername: 'petermarietoto', category: 's' },
  { twitterUsername: 'aaronp613', category: 's' },
  { twitterUsername: 'jayplemons', category: 's' },
  { twitterUsername: 'roykeeleys', category: 's' },
  { twitterUsername: 'eaganhelena', category: 's' },
  { twitterUsername: 'wsndonuts', category: 's' },
  { twitterUsername: 'nicolemichele5', category: 's' },
  { twitterUsername: 'lifehacker', category: 's' },
  { twitterUsername: 'TheYouYouAreBot', category: 's' },
  { twitterUsername: 'TramellTillman', category: 's' },
  { twitterUsername: 'Rockdale_Tiger', category: 's' },
  { twitterUsername: 'jasonlipshutz', category: 's' },
  { twitterUsername: 'ancientlovesong', category: 's' },
  { twitterUsername: 'nocturnalnati', category: 's' },
  { twitterUsername: 'megachop', category: 's' },
  { twitterUsername: '_neilarmstrong', category: 's' },
  { twitterUsername: 'tierneyfilms', category: 's' },
  { twitterUsername: 'vmpiretwt', category: 's' },
  { twitterUsername: 'luv4devhynes', category: 's' },
  { twitterUsername: 'SultanofStacks', category: 's' },
  { twitterUsername: 'rosepear', category: 's' },
  { twitterUsername: 'tylerpixel', category: 's' },
  { twitterUsername: 'jasoneccles', category: 's' },
  { twitterUsername: 'ionianprincess', category: 's' },
  { twitterUsername: 'opngate', category: 's' },
  { twitterUsername: 'selinaknope', category: 's' },
  { twitterUsername: 'imPatrickT', category: 's' },
  { twitterUsername: 'svrdfloor', category: 's' },
  { twitterUsername: 'JJWatt', category: 's' },
  { twitterUsername: 'tsaricm', category: 's' },
  { twitterUsername: 'badxstudio', category: 's' },
  { twitterUsername: 'gerwigverse', category: 's' },
  { twitterUsername: 'lumonsindustry', category: 's' },
  { twitterUsername: 'bel_emmm', category: 's' },
  { twitterUsername: 'treebelsm', category: 's' },
  { twitterUsername: 'AutonomousAllie', category: 's' },
  { twitterUsername: 'ionianprincess', category: 's' },
  { twitterUsername: '7hefer', category: 's' },
  { twitterUsername: 'Justa_sam_ple', category: 's' },
  { twitterUsername: 'taudjey', category: 's' },
  { twitterUsername: 'smileyxchill', category: 's' },
  { twitterUsername: 'griswold', category: 's' },
  { twitterUsername: 'BenArledge', category: 's' },
  { twitterUsername: 'MercuriusFilius', category: 's' },
  { twitterUsername: 'randomrecruiter', category: 's' },
  { twitterUsername: 'Milimalism', category: 's' },
  { twitterUsername: '_Dean_Machine', category: 's' },
  { twitterUsername: 'illictaffirs', category: 's' },
  { twitterUsername: 'teamdeckerstar', category: 's' },
  { twitterUsername: 'lizlaughloveros', category: 's' },
  { twitterUsername: 'ImJustMeAbel', category: 's' },
  { twitterUsername: 'freddies_Crew', category: 's' },
  { twitterUsername: 'Outie_solana', category: 's' },
  { twitterUsername: 'Real_LindaLing', category: 's' },
  { twitterUsername: 'kashsaturn', category: 's' },
  { twitterUsername: 'DementorDeeds', category: 's' },
  { twitterUsername: 'soufflewaffle', category: 's' },
  { twitterUsername: 'WayOfRoy', category: 's' },
  { twitterUsername: 'HARM0NYC0BEL', category: 's' },
  { twitterUsername: 'possiblypmk', category: 's' },
  { twitterUsername: 'kaimorre_', category: 's' },
  { twitterUsername: 'JussiKemppainen', category: 's' },
  { twitterUsername: 'Saucemanfredo_', category: 's' },
  { twitterUsername: 'taysseract', category: 's' },
  { twitterUsername: 'MovieFilesLive', category: 's' },
  { twitterUsername: 'ponderlest', category: 's' },
  { twitterUsername: 'cinemichh', category: 's' },
  { twitterUsername: 'woosnoopie', category: 's' },
  { twitterUsername: 'lilacoves', category: 's' },
  { twitterUsername: 'depointedulacs', category: 's' },
  { twitterUsername: 'CameronNielsen', category: 's' },
  { twitterUsername: 'thelastromances', category: 's' },
  { twitterUsername: 'PaPaBCrypto', category: 's' },
  { twitterUsername: 'KibandiFilms', category: 's' },
  { twitterUsername: 'scottbelsky', category: 's' },
  { twitterUsername: 'ne0neclipse', category: 's' },
  { twitterUsername: 'bk_moore', category: 's' },
  { twitterUsername: 'ne0neclipse', category: 's' },
  { twitterUsername: 'peligrietzer', category: 's' },
  { twitterUsername: 'jfarmer', category: 's' },
  { twitterUsername: 'bdactual', category: 's' },
  { twitterUsername: 'ForlornCreature', category: 's' },
  { twitterUsername: 'maumanfan', category: 's' },
  { twitterUsername: 'litlefishes', category: 's' },
  { twitterUsername: 'Simon_Pratt12', category: 's' },
  { twitterUsername: 'pr0zacz', category: 's' },
  { twitterUsername: 'burritoprophet', category: 's' },
  { twitterUsername: 'greycoupon', category: 's' },
  { twitterUsername: 'FALSETTOSTISM', category: 's' },
  { twitterUsername: 'teamdeckerstar', category: 's' },
  { twitterUsername: 'KibandiFilms', category: 's' },
  { twitterUsername: 'CatJova', category: 's' },
  { twitterUsername: 'SonicTheEggnog', category: 's' },
  { twitterUsername: 'mitzifabelmans', category: 's' },
  { twitterUsername: 'GothamChief', category: 's' },
  { twitterUsername: 'DailyAITech', category: 's' },
  { twitterUsername: 'ZakRed567', category: 's' },
  { twitterUsername: 'HummiRao', category: 's' },
  { twitterUsername: 'The_Yadv', category: 's' },
  { twitterUsername: 'MitchSaysHey', category: 's' },
  { twitterUsername: 'selinaknope', category: 's' },
  { twitterUsername: 'antizionazee', category: 's' },
  { twitterUsername: 'SiddharthNBA', category: 's' },
  { twitterUsername: 'jenniholtz', category: 's' },
  { twitterUsername: 'KateBDoll', category: 's' },
  { twitterUsername: 'folarinxe', category: 's' },
  { twitterUsername: 'benwyattsinnie', category: 's' },
  { twitterUsername: 'linuz90', category: 's' },
  { twitterUsername: 'drowsylvana', category: 's' },
  { twitterUsername: 'bdactual', category: 's' },
  { twitterUsername: 'ghouIcy', category: 's' },
  { twitterUsername: 'motionbynick', category: 's' },
  { twitterUsername: 'DonKikon_Art', category: 's' },
  { twitterUsername: 'juliangeissler0', category: 's' },
  { twitterUsername: 'Terrabaytt', category: 's' },
  { twitterUsername: 'daveannn', category: 's' },
  { twitterUsername: 'mbowser19', category: 's' },
  { twitterUsername: 'jrdnmix', category: 's' },
  { twitterUsername: 'heshiebee', category: 's' },
  { twitterUsername: 'sonofalli', category: 's' },
  { twitterUsername: 'TheCinesthetic', category: 's' },
  { twitterUsername: 'lionesspike', category: 's' },
  { twitterUsername: 'punishednuz', category: 's' },
  { twitterUsername: 'missmilkton', category: 's' },
  { twitterUsername: 'Grayson_40', category: 's' },
  { twitterUsername: 'struckbyColfer', category: 's' },
  { twitterUsername: 'fintyskia', category: 's' },
  { twitterUsername: 'rotator_', category: 's' },
  { twitterUsername: 'chablagu', category: 's' },
  { twitterUsername: 'rogie', category: 's' },
  { twitterUsername: 'Lightenerrthang', category: 's' },
  { twitterUsername: 'alizayatbest', category: 's' },
  { twitterUsername: 'castielfolklore', category: 's' },
  { twitterUsername: 'DctrBitchcraft', category: 's' },
  { twitterUsername: 'alizayatbest', category: 's' },
  { twitterUsername: 'alliekmiller', category: 's' },
  { twitterUsername: 'bilawalsidhu', category: 's' },
  { twitterUsername: 'rawlzai', category: 's' },
  { twitterUsername: 'aniksingal', category: 's' },
  { twitterUsername: 'michyslektra', category: 's' },
  { twitterUsername: 'wolviebets', category: 's' },
  { twitterUsername: 'P0RTERSZ', category: 's' },
  { twitterUsername: 'dog_tqqth', category: 's' },
  { twitterUsername: 'Tiffnickk', category: 's' },
  { twitterUsername: 'sberrymacchiato', category: 's' },
  { twitterUsername: 'nupsume', category: 's' },
  { twitterUsername: 'MicrosoftStore', category: 's' },
  { twitterUsername: 'peduarte', category: 's' },
  { twitterUsername: 'mhadifilms', category: 's' },
  { twitterUsername: 'inniehelly', category: 's' },
  { twitterUsername: 'thomasjeans', category: 's' },
  { twitterUsername: 'GermainLussier', category: 's' },
  { twitterUsername: 'lesbiagatha', category: 's' },
  { twitterUsername: 'koshkawrangler_', category: 's' },
  { twitterUsername: 'yorgohoebeke', category: 's' },
  { twitterUsername: 'geekysrm', category: 's' },
  { twitterUsername: 'MaxRovensky', category: 's' },
  { twitterUsername: 'Drk8_', category: 's' },
  { twitterUsername: 'michaeldyrynda', category: 's' },
  { twitterUsername: 'mikkelsvartveit', category: 's' },
  { twitterUsername: 'alexgraveley', category: 's' },
  { twitterUsername: 'spaceghost', category: 's' },
  { twitterUsername: 'HeWheelsHeDeals', category: 's' },
  { twitterUsername: 'MidKnightReaper', category: 's' },
  { twitterUsername: 'shereeny', category: 's' },
  { twitterUsername: 'JBedyr', category: 's' },
  { twitterUsername: 'archiegoose', category: 's' },
  { twitterUsername: 'deepbluestrips', category: 's' },
  { twitterUsername: 'mikesmicYT', category: 's' },
  { twitterUsername: 'Gizmodo', category: 's' },
  { twitterUsername: 'treenalee1202', category: 's' },
  { twitterUsername: 'drchuck', category: 's' },
  { twitterUsername: 'severanceclips', category: 's' },
  { twitterUsername: 'SeveranceTVSHOW', category: 's' },
  { twitterUsername: 'joansev', category: 's' },
  { twitterUsername: 'nightmqnmac', category: 's' },
  { twitterUsername: 'bravadovinyl', category: 's' },
  { twitterUsername: 'kidciitrix', category: 's' },
  { twitterUsername: 'ATROFDIPITY', category: 's' },
  { twitterUsername: 'severancepod', category: 's' },
  { twitterUsername: 'TownofSeverance', category: 's' },
  { twitterUsername: 'lukymayer', category: 's' },
  { twitterUsername: 'MUKAROUVSKY', category: 's' },
  { twitterUsername: 'noplotjustvibes', category: 's' },
  { twitterUsername: 'theneonvulture', category: 's' },
  { twitterUsername: 'samybush_', category: 's' },
  { twitterUsername: 'TheAstraAwards', category: 's' },
  { twitterUsername: 'sindresorhus', category: 'f' },
  { twitterUsername: 'dvassallo', category: 'f' },
  { twitterUsername: 'dannypostmaa', category: 'f' },
  { twitterUsername: '_nghiatran', category: 's' },
  { twitterUsername: 'daniel_nguyenx', category: 'f' },
  { twitterUsername: 'shadcn', category: 'g' }
]

async function main() {
  const wellnessSessions = await prisma.wellnessSession.findMany({
    include: {
      //   wellnessFacts: true,
      //   pinnedWellnessFact: true,
      twitterUser: {
        select: { user: true, status: true }
      }
    }
  })

  const tuToC = Object.fromEntries(
    tu.map((t) => [t.twitterUsername, t.category])
  )

  const results = (
    await pMap(
      wellnessSessions,
      async (wellnessSession) => {
        const { twitterUsername, twitterUser, userFullName } = wellnessSession

        const user = twitterUser?.user!
        if (!user) return

        const userFullNameParts = userFullName
          ?.split(' ')
          .map((s: string) => s.trim())
          .filter(Boolean)
        const userFirstName =
          userFullName &&
          (userFullNameParts!.length === 2 || userFullNameParts!.length === 1)
            ? userFullNameParts![0]
            : undefined

        const name = userFirstName ? userFirstName + ',' : '👋'
        const url = `${config.prodUrl}/x/${twitterUsername}`
        const category = tuToC[twitterUsername]
        let text: string

        if (category === 'g') {
          text = `Hey ${name} I created some fun Severance memes based on your twitter profile + tweets.\n\nYou can check them out here ${url}\n\nLemme know what you think :)`
        } else if (category === 'f') {
          text = `Hey ${name} I created some fun AI-generated Severance memes based on your twitter profile + tweets. ${url}\n\nThis project is open source and purely for fun, so no worries if Severance isn't your thing, but if you vibe w/ the memes, lemme know your favorite ones by responding to or retweeting this launch thread 🙏 ${config.twitterLaunchThreadUrl}`
        } else if (category === 's') {
          text = `Hey ${name} I noticed you're into Severance memes, so I created some wellness memes based on your twitter profile + tweets. ${url}\n\nIf you vibe w/ the memes, lemme know your favorite ones by responding to or retweeting this launch thread: ${config.twitterLaunchThreadUrl}\n\nThanks && Praise Kier 🙏`
        } else {
          return
        }

        return {
          twitterUsername,
          category,
          text
        }
      },
      {
        concurrency: 8
      }
    )
  )
    .filter(Boolean)
    .sort((a, b) => a.category.localeCompare(b.category))

  // console.log(JSON.stringify(results, null, 2))
  console.log(
    results
      .map((r) => `${r.twitterUsername}\t${r.category}\t${r.text}`)
      .join('\n')
  )
}

try {
  restoreCursor()
  await main()
  gracefulExit(0)
} catch (err) {
  console.error('error', err)
  gracefulExit(1)
}
